<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1-2.SU NEW</title>

    <!-- Мета-теги для PWA -->
    <meta name="theme-color" content="#4285f4" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="1-2.SU NEW" />
    <meta name="description" content="Торговая платформа Энергомикс" />

    <!-- Ссылка на манифест -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Иконки для iOS -->
    <link rel="apple-touch-icon" href="/images/icons/icon-152x152.png" />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="/images/icons/icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/icons/icon-192x192.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="167x167"
      href="/images/icons/icon-152x152.png"
    />

    <!-- Иконка для браузера -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/icons/icon-72x72.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/icons/icon-72x72.png"
    />

    <!-- Стили -->
    <link
      rel="stylesheet"
      href="/css/test-desktop.css"
      media="screen and (min-width: 801px)"
    />
    <link
      rel="stylesheet"
      href="/css/test-mobile.css"
      media="screen and (max-width: 800px)"
    />
    <link
      rel="stylesheet"
      href="/css/desktop.css"
      media="screen and (min-width: 801px)"
    />
    <link
      rel="stylesheet"
      href="/css/mobile.css"
      media="screen and (max-width: 800px)"
    />
    <link
      rel="stylesheet"
      href="/css/categories-desktop.css"
      media="screen and (min-width: 801px)"
    />
    <link
      rel="stylesheet"
      href="/css/categories-mobile.css"
      media="screen and (max-width: 800px)"
    />

    <!-- Подключаем Remix Icon для иконок -->
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
      rel="stylesheet"
      defer
    />

    <!-- Подключение Yandex Maps API -->
    <script
      src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=ВАШ_НОВЫЙ_API_КЛЮЧ_ЯНДЕКС_КАРТ"
      type="text/javascript"
      defer
    ></script>
  </head>

  <body>
    <!-- Исходная навигация для десктопа (мобильные блоки скрываются через класс hide-desktop) -->
    <div id="navigation-area" class="navigation-area hide-mobile">
      <nav class="navigation">
        <div class="container">
          <!-- Обновленный логотип с изображением -->
          <div class="logo-button" data-tooltip="На главную страницу">
            <img
              src="/images/svg/Logo/energomixlogo.svg"
              alt="Energomix Logo"
            />
          </div>
          <button
            id="open-categories"
            class="open-categories-button"
            data-tooltip="Открыть список категорий товаров"
          >
            Категории ☰
          </button>

          <!-- Строка поиска с кнопкой -->
          <div class="search-bar">
            <input
              type="text"
              id="searchInput"
              placeholder="Поиск товаров..."
              class="search-input"
              data-tooltip="Введите название товара для поиска"
            />
            <button
              id="searchButton"
              class="search-button"
              data-tooltip="Нажмите для поиска товаров"
            >
              Поиск
            </button>
          </div>

          <!-- Кнопка «Журнал заказов» -->
          <span class="orders-button">
            <i
              class="ri-file-list-3-line"
              id="orders-button"
              data-tooltip="Журнал заказов"
            ></i>
          </span>

          <!-- Кнопка «Журнал заказов» -->
          <span class="cart-button">
            <i
              class="ri-shopping-cart-2-line"
              id="cart-button"
              data-tooltip="Перейти в активную корзину"
            ></i>
          </span>

          <!-- Лимит, Корзина, Личный кабинет (триггер для шторки аккаунта) -->
          <div class="account" id="accountButton">
            <a
              id="logButton"
              href="#"
              data-tooltip="Управление вашим аккаунтом"
            >
              <i id="UserButton" class="ri-account-circle-line"></i>
              <i id="ArrowButton" class="ri-arrow-down-s-line"></i>
            </a>
          </div>
        </div>

        <!-- Вторая строка с кнопками (десктопная) -->
        <div class="secondary-row">
          <button
            class="secondary-button"
            data-tab-url="/pages/versus.html"
            data-open-tab="true"
            data-tab-title="Подбор аналогов"
          >
            Подбор аналогов
          </button>

          <button
            class="secondary-button"
            data-tooltip="Акции и предложения к Новому году"
          >
            Новый год
          </button>
          <button
            class="secondary-button"
            data-tooltip="Текущие акции и скидки"
          >
            Акции
          </button>
          <button
            class="secondary-button"
            data-tooltip="Возможность выбрать продукцию для конкретного сезона"
          >
            Сезонные товары
          </button>
          <button class="secondary-button" data-tooltip="Важные разделы сайта">
            Сюда добавляем важные разделы...
          </button>
        </div>
      </nav>
    </div>

    <!-- Мобильная версия (скрыта на десктопе) -->
    <div class="hide-desktop">
      <!-- Верхняя панель мобильной версии -->
      <div class="top-panel">
        <div class="container">
          <!-- Строка поиска без вложенных div'ов -->
          <div class="search-bar">
            <input
              type="text"
              id="searchInput"
              placeholder="1-2.SU NEW"
              class="search-input"
              data-tooltip="Введите название товара для поиска"
            />
            <button
              id="searchButton"
              class="search-button"
              data-tooltip="Нажмите для поиска товаров"
            >
              Поиск
            </button>
          </div>
        </div>
      </div>

      <!-- Фиксированная нижняя панель мобильной версии -->
      <div class="bottom-bar">
        <div class="bottom-bar__container">
          <button
            id="open-categories"
            class="open-categories-button"
            data-tooltip="Открыть список категорий товаров"
          >
            Категории ☰
          </button>
          <span class="orders-button">
            <i
              class="ri-file-list-3-line"
              id="orders-button"
              data-tooltip="Журнал заказов"
            ></i>
          </span>
          <span class="cart-button">
            <i
              class="ri-shopping-cart-2-line"
              id="cart-button"
              data-tooltip="Перейти в активную корзину"
            ></i>
          </span>
          <div class="account" id="accountButton">
            <a
              id="logButton"
              href="#"
              data-tooltip="Управление вашим аккаунтом"
            >
              <i id="UserButton" class="ri-account-circle-line"></i>
              <i id="ArrowButton" class="ri-arrow-down-s-line"></i>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Единый блок шторки аккаунта (используется и для десктопа, и для мобильной версии) -->
    <div
      class="account-dropdown unified-account-dropdown"
      id="accountDropdownUnified"
    >
      <div class="link-buttons">
        <!-- Перемещенный контейнер для выбора города -->
        <div class="city-selection-wrapper">
          <button id="selectedCity" class="selected-city-button no-city-chosen">
            <span id="currentCity">
              <i class="ri-alert-circle-line exclamation-mark"></i>
              <span> Выберите представительство </span>
            </span>
            <i class="ri-arrow-down-s-line"></i>
          </button>
        </div>
        <button class="orders-button2">Журнал заказов</button>
        <button class="productcardbutton">Макет карточки товара</button>
        <button class="waitlist-button">Лист ожидания</button>
        <button data-tooltip="Ваш рабочий стол" class="Cabinet-button">
          Личный кабинет
        </button>
        <button data-tooltip="Связаться с поддержкой" class="chat-button">
          Чат
        </button>
        <button
          data-tooltip="Адреса и Контакты ГК Энергомикс"
          class="contacts-button"
        >
          Контакты
        </button>
        <button
          data-tooltip="Настройте 1-2.SU под себя"
          class="settings-ac-button"
          data-section="profileSettings"
        >
          Настройки аккаунта
        </button>
      </div>
      <div class="info-buttons">
        <span class="name">Шуравин М.А.</span>
        <hr class="custom-divider" />
        <button
          id="limit-amount"
          class="info-button"
          data-tooltip="Ваш текущий лимит покупок"
        >
          <span class="label">Доступный лимит:</span>
          <span class="value">740 000 ₽</span>
        </button>
        <button
          id="turnover"
          class="info-button"
          data-tooltip="Ваш текущий оборот за год"
        >
          <span class="label">Оборот за год:</span>
          <span class="value">25 000 000,00 ₽</span>
        </button>
        <hr class="custom-divider" />
        <button id="bonus-amount" class="info-button" data-tooltip="">
          <span class="label">Использованный лимит:</span>
          <span class="value">160 000 ₽</span>
        </button>
        <button id="bonus-amount" class="info-button" data-tooltip="">
          <span class="label">Срок оплаты кредита:</span>
          <span class="value">14.07.2025</span>
        </button>
        <hr class="custom-divider" />
        <button id="bonus-amount" class="info-button bonus-btn" data-tooltip="">
          <span class="label">Дней до стоп-листа:</span>
          <span class="value">72</span>
        </button>
        <span id="workTogether" class="icon-group">
          Совместная работа
          <i class="ri-toggle-line"></i>
        </span>
        <span id="hintMode" class="icon-group">
          Режим подсказок
          <i class="ri-questionnaire-line"></i>
        </span>
        <span id="logout" class="icon-group">
          Выйти из аккаунта
          <i class="ri-door-open-fill" id="logout-icon"></i>
        </span>
      </div>
    </div>

    <!-- Область для вкладок -->
    <div id="tab-container" class="tab-container">
      <div class="tabs collapsed">
        <!-- Вкладки будут динамически добавляться здесь -->
      </div>
      <div class="tab-content">
        <!-- Контент активной вкладки будет отображаться здесь -->
      </div>
    </div>

    <!-- Шторка с содержимым категорий -->
    <div class="category-drawer" id="categoryDrawer">
      <div id="category-module">
        <div class="top-container">
          <div class="sidebar"></div>
          <div class="subcategories-container">
            <!-- Динамически будут добавляться подкатегории -->
          </div>
        </div>

        <div class="brands">
          <a href="#"
            ><img src="/images/jpg/Brandfull/image1.jpg" alt="Изображение 1"
          /></a>
          <a href="#"
            ><img src="/images/jpg/Brandfull/image2.jpg" alt="Изображение 2"
          /></a>
          <a href="#"
            ><img src="/images/jpg/Brandfull/image3.jpg" alt="Изображение 3"
          /></a>
          <a href="#"
            ><img src="/images/jpg/Brandfull/image4.jpg" alt="Изображение 4"
          /></a>
          <a href="#"
            ><img src="/images/jpg/Brandfull/image5.jpg" alt="Изображение 5"
          /></a>
          <a href="#"
            ><img src="/images/jpg/Brandfull/image6.jpg" alt="Изображение 6"
          /></a>
          <!-- Добавьте больше изображений по необходимости -->
        </div>
      </div>
    </div>

    <!-- Один-единственный оверлей (используется и для категорий, и для города) -->
    <div id="overlay" class="overlay"></div>

    <!-- Шторка с выбором города -->
    <div id="cityDrawer" class="city-drawer">
      <div class="city-drawer-content">
        <!-- Строка поиска с иконкой вместо кнопки -->
        <div class="search-line">
          <input
            type="text"
            id="citySearchInput"
            placeholder="Поиск представительства..."
          />
          <i class="ri-search-line" id="citySearchIcon"></i>
        </div>

        <!-- Контейнер для текста и кнопки переключения в одной строке -->
        <div class="choose-nearby-container">
          <p class="choose-nearby">
            Выберите ближайшее к Вам торговое представительство
          </p>
          <button id="toggleSelectionMode" class="toggle-selection-button">
            Выбрать на карте
          </button>
        </div>

        <!-- Контейнер для списка и карты -->
        <div class="selection-mode-container">
          <!-- Контейнер для списка городов -->
          <div id="cityListContainer" class="contacts">
            <!-- Сюда динамически подгрузим города из JSON -->
          </div>

          <!-- Контейнер для карты, изначально скрыт -->
          <div id="mapSelectionContainer" class="map-selection-container">
            <!-- Контейнер для карты -->
            <div id="mapSelection" style="width: 100%; height: 500px"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Модальное окно регистрации -->
    <div id="registrationModal" class="modal hidden" style="display: none">
      <div class="modal-content">
        <span id="closeModal" class="close-button">&times;</span>
        <!-- Контейнер для регистрации -->
        <div id="registrationFormContainer">
          <!-- Этап 1: Получение кода -->
          <div id="step-1">
            <h2>Шаг 1: Получение кода</h2>
            <input
              type="text"
              id="phone-number"
              placeholder="Введите номер телефона"
            />
            <div class="custom-checkbox" id="terms-checkbox">
              Согласен с условиями использования
            </div>
            <div id="terms-message" class="hidden"></div>
            <button id="get-code-button">Получить код</button>
          </div>
          <!-- Этап 2: Верификация кода -->
          <div id="step-2" class="hidden">
            <h2>Шаг 2: Верификация кода</h2>
            <span id="display-phone"></span>
            <input
              type="text"
              id="verification-code"
              placeholder="Введите код"
            />
            <span id="timer">00:30</span>
            <button id="resend-code-button">Отправить повторно</button>
            <div id="code-message" class="hidden"></div>
          </div>
          <!-- Этап 3: Регистрация -->
          <div id="step-3" class="hidden">
            <h2>Шаг 3: Регистрация</h2>
            <div class="tabs">
              <button class="tab-button" data-value="yes">Да</button>
              <button class="tab-button" data-value="no">Нет</button>
            </div>
            <form id="client-registration-form">
              <h3>Регистрация для клиента</h3>
              <input
                type="text"
                id="client-phone"
                placeholder="Ваш номер телефона"
              />
              <div class="custom-checkbox" id="client-personal-data">
                Согласен на обработку персональных данных
              </div>
              <div id="client-data-message" class="hidden"></div>
              <button type="submit">Зарегистрироваться</button>
            </form>
            <form id="registration-form" class="hidden">
              <h3>Регистрация для юридического лица</h3>
              <input
                type="text"
                id="company-phone"
                placeholder="Номер телефона компании"
              />
              <div class="custom-checkbox" id="personal-data">
                Согласен на обработку персональных данных
              </div>
              <div id="company-data-message" class="hidden"></div>
              <button type="submit">Зарегистрироваться</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Добавляем скрытый loginButton для регистрации -->
    <a id="loginButton" href="#" style="display: none"></a>

    <!-- Подключение глобального скрипта коммуникации между страницами проекта -->
    <script src="/js/globalcomm.js" defer></script>

    <!-- Объединенный скрипт (вместо отдельных /js/categories.js и /js/city.js) -->
    <script src="/js/combined.js" defer></script>
    <!-- Имитация ввода текста в поиск -->
    <script src="/js/inputimit.js" defer></script>
    <!-- Подключение библиотек для формирования документов -->
    <script src="/js/excel_pdf.js" defer></script>
    <!-- SheetJS для Excel -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"
      defer
    ></script>
    <!-- jsPDF -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"
      defer
    ></script>
    <!-- jsPDF-AutoTable (обязательно!) -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"
      defer
    ></script>
    <!-- html2canvas (если он вам нужен для других задач) -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
      defer
    ></script>
    <!-- Подключение pdfmake и шрифтов для презентаций -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"
      defer
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"
      defer
    ></script>
    <!-- Ваш скрипт должен быть подключён последним (если он не дублируется) -->
    <script src="/js/excel_pdf.js" defer></script>

    <!-- noUiSlider JS скрипт красивого слайдера цен -->
    <script src="/js/nouislider.min.js" defer></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Скрипт регистрации -->
    <script src="/js/registration.js" defer></script>
    <!-- Скрипт для управления выпадающим меню аккаунта -->
    <script src="/js/account.js" defer></script>
  </body>
</html>
